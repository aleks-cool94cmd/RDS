<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#f4f6fb" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="icon" href="./assets/icons/icon-192.svg" />
    <link rel="stylesheet" href="./css/styles.css" />
    <title>CycleFlow</title>
  </head>
  <body>
    <section id="authGate" class="auth-gate" hidden>
      <div class="auth-shell">
        <div class="auth-card glass">
          <div class="auth-card-head">
            <button id="themeToggleAuth" type="button" class="ghost" aria-pressed="false">üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
          </div>
          <h1>CycleFlow</h1>
          <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞</p>
          <div class="actions col">
            <button type="button" id="authRegisterBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            <button type="button" id="authLoginBtn" class="ghost">–í—Ö–æ–¥</button>
            <button type="button" id="authPartnerBtn" class="ghost">–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è —Å—Å—ã–ª–∫–∞</button>
          </div>
          <form id="loginEntry" class="auth-entry" hidden>
            <input id="loginEmailInput" type="email" placeholder="–ü–æ—á—Ç–∞" autocomplete="email" />
            <input id="loginPasswordInput" type="password" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="current-password" />
            <button type="submit">–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç</button>
          </form>
          <div id="partnerEntry" class="partner-entry" hidden>
            <input id="partnerLinkInput" type="text" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫—É—é —Å—Å—ã–ª–∫—É" />
            <button type="button" id="openPartnerLinkBtn" class="ghost">–û—Ç–∫—Ä—ã—Ç—å</button>
          </div>
          <small id="authStatus" class="muted"></small>
        </div>
      </div>
    </section>

    <section id="onboarding" class="onboarding" hidden>
      <div class="onboarding-shell">
        <div class="onboarding-card glass" id="card">
          <div class="header-row">
            <div class="heart-badge" id="headerHeart" aria-hidden="true">‚ù§</div>
            <div>
              <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ CycleFlow</h1>
              <p id="onboardingHint">–ù–µ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥ –≤–∞—Å –∑–∞ 1 –º–∏–Ω—É—Ç—É.</p>
            </div>
          </div>

          <div class="onboarding-grid">
            <div class="circular-wrap">
              <svg class="progress-svg" viewBox="0 0 100 100" aria-hidden="true">
                <defs>
                  <linearGradient id="onboardingGrad" x1="0%" x2="100%"><stop offset="0%" stop-color="#ff7ab6"/><stop offset="100%" stop-color="#a78bfa"/></linearGradient>
                </defs>
                <circle class="progress-bg" cx="50" cy="50" r="44"></circle>
                <circle class="progress-fg" id="progressCircle" cx="50" cy="50" r="44"></circle>
              </svg>
              <div class="progress-center">
                <div class="progress-percent" id="progressPercent">0%</div>
                <div class="progress-heart">üíó</div>
              </div>
            </div>

            <form id="onboardingForm" onsubmit="event.preventDefault(); document.getElementById('nextQuestion')?.click(); return false;" novalidate>
              <div id="questionStep" class="step"></div>
              <h3 id="questionTitle"></h3>
              <div id="questionBody"></div>
              <div class="actions">
                <button type="button" id="prevQuestion" class="ghost">–ù–∞–∑–∞–¥</button>
                <button type="button" id="nextQuestion">–î–∞–ª–µ–µ</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <main class="app" id="appRoot" hidden>
      <header class="header-card">
        <div>
          <h2 id="appTitle"></h2>
          <p id="appSubtitle"></p>
          <p id="prediction" class="muted"></p>
        </div>
        <div class="ring" id="cycleRing" role="img" aria-label="–ö–æ–ª—å—Ü–æ –º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–æ–≥–æ —Ü–∏–∫–ª–∞">
          <span class="ring-halo" aria-hidden="true"></span>
          <span class="ring-spark" aria-hidden="true"></span>
          <span class="ring-center" aria-hidden="true"></span>
          <strong id="ringMain">1</strong>
          <small id="ringSub" class="ring-label">–¥–µ–Ω—å —Ü–∏–∫–ª–∞</small>
        </div>
      </header>

      <section id="tab-calendar" class="tab-content active">
        <section class="calendar-card">
        <section class="calendar-controls">
          <button id="prevMonth" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">‚Üê</button>
          <strong id="monthLabel"></strong>
          <button id="nextMonth" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">‚Üí</button>
        </section>
        <div class="weekdays"><span>–ü–Ω</span><span>–í—Ç</span><span>–°—Ä</span><span>–ß—Ç</span><span>–ü—Ç</span><span>–°–±</span><span>–í—Å</span></div>
        <section id="calendarGrid" class="calendar-grid" aria-label="–ö–∞–ª–µ–Ω–¥–∞—Ä—å"></section>
        </section>
        <section id="phaseCard" class="info-card"></section>
        <section id="delayPanel" class="info-card danger" hidden>
          <h3></h3><p class="delay-text"></p><p class="delay-reasons"></p>
          <div class="actions col"><button id="markStart">–û—Ç–º–µ—Ç–∏—Ç—å –Ω–∞—á–∞–ª–æ</button><button id="remindLater" class="ghost">–ù–∞–ø–æ–º–Ω–∏—Ç—å –ø–æ–∑–∂–µ</button><button id="exportData" class="ghost">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</button></div>
        </section>
      </section>

      <section id="tab-insights" class="tab-content">
        <section class="quick-grid">
          <article class="card insight-stat stat-period">
            <span class="stat-icon" aria-hidden="true">ü©∏</span>
            <strong id="periodCountdown">‚Äî</strong>
            <small>–î–æ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏</small>
            <div class="stat-indicators" aria-hidden="true"><i></i><i></i><i></i></div>
          </article>
          <article class="card insight-stat stat-ovulation">
            <span class="stat-icon" aria-hidden="true">‚ú®</span>
            <strong id="ovulationCountdown">‚Äî</strong>
            <small>–î–æ –æ–≤—É–ª—è—Ü–∏–∏</small>
            <div class="stat-indicators" aria-hidden="true"><i></i><i></i><i></i></div>
          </article>
          <article class="card insight-stat stat-selected">
            <span class="stat-icon" aria-hidden="true">üìÖ</span>
            <strong id="selectedDateLabel">‚Äî</strong>
            <small>–í—ã–±—Ä–∞–Ω–æ</small>
            <div class="stat-indicators" aria-hidden="true"><i></i><i></i><i></i></div>
          </article>
        </section>
        <section id="companionCard" class="card">
          <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–Ω—è</h3><p id="companionText"></p><small id="aiStatus" class="muted"></small>
          <div class="actions"><button id="comfortBtn" class="ghost">–ü–æ–¥–±–æ–¥—Ä–∏—Ç—å –º–µ–Ω—è</button><button id="routineBtn" class="ghost">–†–∏—Ç—É–∞–ª –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</button></div>
        </section>
      </section>

      <section id="tab-care" class="tab-content">
        <section class="card care-card">
          <h3>–î–Ω–µ–≤–Ω–∏–∫ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è</h3>
          <p id="careHint" class="muted">–ó–∞–ø–æ–ª–Ω—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–Ω—è –≤ 2‚Äì3 —à–∞–≥–∞: —ç—Ç–æ —É—Å–∫–æ—Ä–∏—Ç –∏ —É–ª—É—á—à–∏—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã.</p>
          <div class="actions col"><button id="openSheet">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞ —Å–µ–≥–æ–¥–Ω—è</button></div>
        </section>
        <section class="card care-feed-card">
          <h4>–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–Ω–∏ –∏ –ø–æ–º–µ—Ç–∫–∏</h4>
          <div id="careEntries" class="care-feed-list" aria-live="polite"></div>
        </section>
      </section>

      <section id="tab-settings" class="tab-content">
        <section class="card">
          <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</h3>
          <p id="emailPreview"></p>
          <p id="profileModeHint" class="muted"></p>
          <div class="actions col">
            <button id="enableNotifications">–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
            <button id="createPartnerLink" class="ghost">–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫—É—é —Å—Å—ã–ª–∫—É</button>
            <input id="partnerLinkOutput" type="text" readonly hidden />
            <button id="themeToggleSettings" class="ghost" aria-pressed="false">üåô –¢—ë–º–Ω—ã–π —Ä–µ–∂–∏–º</button>
            <button id="logoutBtn" class="ghost">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
            <button id="exitPartnerMode" class="ghost" hidden>–í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞</button>
            <button id="deleteData" class="danger-btn">–£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</button>
          </div>
        </section>
      </section>
    </main>

    <section class="sheet" id="daySheet" hidden>
      <form id="dayForm" class="sheet-form glass">
        <div class="sheet-header"><h3>–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–Ω—è</h3><button id="closeSheet" type="button" class="ghost">‚úï</button></div>
        <p class="sheet-subtitle">–û—Ç–º–µ—Ç—å—Ç–µ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ, —á—Ç–æ–±—ã –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ç–æ—á–Ω–µ–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª —Ñ–∞–∑—É –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.</p>

        <div class="sheet-row">
          <label class="field">–ù–∞—á–∞–ª–æ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏<input id="periodStart" type="date" /></label>
          <label class="field">–ö–æ–Ω–µ—Ü –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏<input id="periodEnd" type="date" /></label>
        </div>

        <label class="field">
          –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –æ—â—É—â–µ–Ω–∏–π
          <div class="range-row">
            <input id="intensity" type="range" min="0" max="10" step="1" />
            <output id="intensityValue" for="intensity">0</output>
          </div>
          <small class="field-help">0 ‚Äî —Å–ø–æ–∫–æ–π–Ω–æ, 10 ‚Äî –æ—á–µ–Ω—å –≤—ã—Ä–∞–∂–µ–Ω–Ω–æ</small>
        </label>

        <label class="field">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ<select id="mood"></select></label>

        <div class="field">
          <span>–°–∏–º–ø—Ç–æ–º—ã</span>
          <div id="symptomQuick" class="chip-grid" aria-label="–ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä —Å–∏–º–ø—Ç–æ–º–æ–≤">
            <button type="button" class="chip" data-symptom="–ë–æ–ª—å">–ë–æ–ª—å</button>
            <button type="button" class="chip" data-symptom="–£—Å—Ç–∞–ª–æ—Å—Ç—å">–£—Å—Ç–∞–ª–æ—Å—Ç—å</button>
            <button type="button" class="chip" data-symptom="–í–∑–¥—É—Ç–∏–µ">–í–∑–¥—É—Ç–∏–µ</button>
            <button type="button" class="chip" data-symptom="–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</button>
            <button type="button" class="chip" data-symptom="–ì–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å">–ì–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å</button>
            <button type="button" class="chip" data-symptom="–°–æ–Ω–ª–∏–≤–æ—Å—Ç—å">–°–æ–Ω–ª–∏–≤–æ—Å—Ç—å</button>
          </div>
          <input id="symptoms" placeholder="–ú–æ–∂–Ω–æ –¥–æ–ø–∏—Å–∞—Ç—å —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" />
        </div>

        <label class="field">–ó–∞–º–µ—Ç–∫–∞<textarea id="note" rows="4" placeholder="–ß—Ç–æ —Ö–æ—á–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è?"></textarea></label>
        <button type="submit" class="sheet-submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ–Ω—å</button>
      </form>
    </section>

    <nav class="bottom-nav" id="mainTabbar" hidden>
      <button class="nav-item active" data-tab="calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
      <button class="nav-item" data-tab="insights">–ò–Ω—Å–∞–π—Ç—ã</button>
      <button class="nav-item" data-tab="care">–ó–∞–±–æ—Ç–∞</button>
      <button class="nav-item" data-tab="settings">–ü—Ä–æ—Ñ–∏–ª—å</button>
    </nav>

    <script src="./i18n/ru.js"></script>
    <script src="./js/app.js"></script>
  </body>
</html>
